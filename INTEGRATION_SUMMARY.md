# üöÄ –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–æ–Ω–µ—Ç–∞ Yess!Coin

#### –ú–æ–¥–µ–ª—å Wallet –æ–±–Ω–æ–≤–ª–µ–Ω–∞:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `yescoin_balance` - –±–∞–ª–∞–Ω—Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–æ–Ω–µ—Ç—ã
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `total_earned` - –≤—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `total_spent` - –≤—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã constraints –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### API Endpoints:
- ‚úÖ `GET /api/v1/wallet/balance` - –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å —Å Yess!Coin
- ‚úÖ `POST /api/v1/wallet/sync` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ –º–µ–∂–¥—É —Å–∞–π—Ç–æ–º –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ö–µ–º—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–æ–Ω–µ—Ç—ã

#### –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `add_yescoin_to_wallet.py`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è –∏ –∏–Ω–¥–µ–∫—Å—ã

### 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

#### WebSocket —Å–æ–±—ã—Ç–∏—è (–≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é):
- `balance_update` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- `transaction_created` - –Ω–æ–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
- `promotion_updated` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ü–∏–∏
- `location_updated` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏
- `partner_updated` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞

#### API –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
- ‚úÖ `/api/v1/wallet/sync` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ—à–µ–ª—å–∫–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ device_id –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### 3. –ö–∞—Ä—Ç—ã (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —É–ª—É—á—à–µ–Ω–∏—è)

#### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- ‚úÖ Leaflet –∫–∞—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –º–∞—Ä–∫–µ—Ä—ã
- ‚úÖ –ü–æ–ø–∞–ø—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

#### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- ‚è≥ –ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–æ–≤ (Nominatim API)
- ‚è≥ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (OSRM)
- ‚è≥ –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤
- ‚è≥ –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤
- ‚è≥ –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–∞–Ω–µ–ª—è–º–∏

#### Admin Panel:
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º
- ‚úÖ WebSocket –¥–ª—è —Ä–µ–∞–ª-—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

#### Partner Panel:
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º
- ‚úÖ WebSocket –¥–ª—è —Ä–µ–∞–ª-—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏—è–º–∏, –∞–∫—Ü–∏—è–º–∏, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –±–∞–ª–∞–Ω—Å–∞
3. –£–ª—É—á—à–∏—Ç—å –∫–∞—Ä—Ç—ã (–ø–æ–∏—Å–∫, –º–∞—Ä—à—Ä—É—Ç—ã)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –§—É–Ω–∫—Ü–∏–∏ –∏–∑ –ª—É—á—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
1. –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π (–∫–∞–∫ –≤ UDS)
2. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–∫–∞–∫ –≤ –ë–∏—Å–º–∞—Ä–∫)
3. –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (–∫–∞–∫ –≤ –ò–Ω–∫—Ä—É–∑–∏–∑)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–¥–µ–ª—å Wallet —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–æ–Ω–µ—Ç—ã
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- Constraints –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### API
- –ù–æ–≤—ã–µ endpoints –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ö–µ–º—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π yescoin_balance
- WebSocket –¥–ª—è —Ä–µ–∞–ª-—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### Frontend
- –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–æ–≤—ã–º–∏ API
- WebSocket —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç—Å—è (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

