# =============================================================================
# YESS LOYALTY - Environment Variables Template
# =============================================================================
# ⚠️ ВАЖНО: Скопируйте этот файл в .env и заполните реальными значениями
# ⚠️ НИКОГДА не коммитьте .env файл в Git!
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
PROJECT_NAME=Yess Loyalty
DEBUG=False
HOST=0.0.0.0
PORT=8000
BASE_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_HOST=postgres
POSTGRES_USER=yess_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
POSTGRES_DB=yess_db
DATABASE_URL=postgresql://yess_user:CHANGE_ME_STRONG_PASSWORD_HERE@postgres/yess_db

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# ⚠️ КРИТИЧЕСКИ ВАЖНО: Сгенерируйте сильные секретные ключи!
# Используйте: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_ME_GENERATE_STRONG_SECRET_KEY_MIN_32_CHARS
JWT_SECRET_KEY=CHANGE_ME_GENERATE_STRONG_JWT_SECRET_KEY_MIN_32_CHARS
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_MINUTES=10080

# Политика паролей
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=True
PASSWORD_REQUIRE_LOWERCASE=True
PASSWORD_REQUIRE_DIGITS=True
PASSWORD_REQUIRE_SPECIAL_CHARS=True

# Настройки Rate Limiting
RATE_LIMIT_REQUESTS=100  # Количество запросов
RATE_LIMIT_WINDOW=60     # За период в секундах

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Development: используйте * для разработки
# Production: укажите конкретные домены через запятую
# Пример: CORS_ORIGINS=https://app.yess.kg,https://admin.yess.kg
CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=True

# Настройки безопасности файлов
MAX_FILE_SIZE=10485760  # 10 МБ
ALLOWED_FILE_TYPES=["jpg","jpeg","png","gif","pdf"]

# Мониторинг безопасности
ENABLE_SECURITY_LOGGING=True
LOG_SENSITIVE_EVENTS=True

# Настройки 2FA
TWO_FACTOR_ENABLED=True
TWO_FACTOR_METHODS=["totp", "sms"]  # Методы двухфакторной аутентификации

# Политика сессий
MAX_CONCURRENT_SESSIONS=3
SESSION_TIMEOUT_MINUTES=120  # Время жизни сессии

# =============================================================================
# SENDGRID EMAIL (Optional)
# =============================================================================
# Получите на https://app.sendgrid.com
SENDGRID_API_KEY=SG.CHANGE_ME_SENDGRID_API_KEY
FROM_EMAIL=noreply@yess-loyalty.com

# =============================================================================
# TWILIO SMS CONFIGURATION (Optional)
# =============================================================================
# Получите эти значения на https://www.twilio.com/console
SMS_ENABLED=False
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=CHANGE_ME_TWILIO_AUTH_TOKEN
TWILIO_FROM_NUMBER=+1234567890
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_VERIFY_SERVICE_SID=VAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# FIREBASE PUSH NOTIFICATIONS (Optional)
# =============================================================================
# Получите на https://console.firebase.google.com
PUSH_ENABLED=False
FCM_SERVER_KEY=CHANGE_ME_FIREBASE_SERVER_KEY
FIREBASE_CREDENTIALS_PATH=/path/to/firebase-credentials.json

# Настройки внешних сервисов
PAYMENT_GATEWAY_API_KEY=your_payment_gateway_key
PUSH_NOTIFICATION_KEY=your_push_notification_service_key

# Режим работы приложения
APP_ENV=production
DEBUG=False

# Настройки безопасности
CORS_ORIGINS=["https://yourdomain.com", "https://www.yourdomain.com"]

# Настройки для мониторинга (опционально)
SENTRY_DSN=your_sentry_dsn_if_used

# Настройки для геолокации (если используется)
GEOLOCATION_API_KEY=your_geolocation_service_key
GEOLOCATION_API_URL=https://nominatim.openstreetmap.org/
GEOLOCATION_USER_AGENT=YessLoyaltyApp/1.0

# Базовые настройки уведомлений
FROM_EMAIL=noreply@yess-loyalty.com
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5
PUSH_NOTIFICATION_ENABLED=True
SMS_NOTIFICATION_ENABLED=False
EMAIL_NOTIFICATION_ENABLED=True

# Локальные настройки Кыргызстана
COUNTRY_CODE=KG
CURRENCY=KGS
TIMEZONE=Asia/Bishkek
LANGUAGE=kg
PHONE_FORMAT=+996XXXXXXXXX
DATE_FORMAT=DD.MM.YYYY
TIME_FORMAT=HH:MM
NUMBER_FORMAT=1 234,56

# Бизнес-правила
DEFAULT_REFERRAL_BONUS=100.0
MIN_TRANSACTION_AMOUNT=10.0
MAX_TRANSACTION_AMOUNT=100000.0
DEFAULT_CASHBACK_RATE=1.0
MAX_CASHBACK_RATE=10.0

# =============================================================================
# BANK INTEGRATIONS - OPTIMAL BANK
# =============================================================================
OPTIMAL_BANK_API_URL=https://api.optimalbank.kg
OPTIMAL_BANK_MERCHANT_ID=CHANGE_ME_OPTIMAL_MERCHANT_ID
OPTIMAL_BANK_SECRET_KEY=CHANGE_ME_OPTIMAL_SECRET_KEY

# =============================================================================
# BANK INTEGRATIONS - DEMIR BANK
# =============================================================================
DEMIR_BANK_API_URL=https://api.demirbank.kg
DEMIR_BANK_MERCHANT_ID=CHANGE_ME_DEMIR_MERCHANT_ID
DEMIR_BANK_SECRET_KEY=CHANGE_ME_DEMIR_SECRET_KEY

# =============================================================================
# BANK INTEGRATIONS - RSK BANK
# =============================================================================
RSK_BANK_API_URL=https://api.rskbank.kg
RSK_BANK_MERCHANT_ID=CHANGE_ME_RSK_MERCHANT_ID
RSK_BANK_SECRET_KEY=CHANGE_ME_RSK_SECRET_KEY

# =============================================================================
# BANK INTEGRATIONS - BAKAI BANK
# =============================================================================
BAKAI_BANK_API_URL=https://api.bakaibank.kg
BAKAI_BANK_MERCHANT_ID=CHANGE_ME_BAKAI_MERCHANT_ID
BAKAI_BANK_SECRET_KEY=CHANGE_ME_BAKAI_SECRET_KEY

# =============================================================================
# PAYMENT SYSTEM - ELCART
# =============================================================================
ELCART_API_URL=https://api.elcart.kg
ELCART_MERCHANT_ID=CHANGE_ME_ELCART_MERCHANT_ID
ELCART_SECRET_KEY=CHANGE_ME_ELCART_SECRET_KEY

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379/0
REDIS_CACHE_TTL=3600

# =============================================================================
# AWS S3 CONFIGURATION (Optional)
# =============================================================================
USE_S3=False
AWS_ACCESS_KEY_ID=CHANGE_ME_IF_USING_S3
AWS_SECRET_ACCESS_KEY=CHANGE_ME_IF_USING_S3
AWS_REGION=us-east-1
AWS_S3_BUCKET=CHANGE_ME_IF_USING_S3

# =============================================================================
# MAP SERVICES (Optional)
# =============================================================================
GOOGLE_MAPS_API_KEY=CHANGE_ME_GOOGLE_MAPS_API_KEY
MAPBOX_API_KEY=CHANGE_ME_MAPBOX_API_KEY

# =============================================================================
# OPENSTREETMAP ROUTING (OSRM) - Рекомендуется
# =============================================================================
# OSRM использует данные OpenStreetMap для точных маршрутов
# Публичный сервер: http://router.project-osrm.org
# Или разверните свой сервер для лучшей производительности
OSRM_URL=http://router.project-osrm.org
OSRM_ENABLED=True

# =============================================================================
# GRAPHHOPPER - Для общественного транспорта
# =============================================================================
# GraphHopper поддерживает детальные маршруты и общественный транспорт
# Получите API ключ на https://www.graphhopper.com/api-keys
GRAPHHOPPER_URL=https://graphhopper.com/api/1
GRAPHHOPPER_API_KEY=CHANGE_ME_GRAPHHOPPER_API_KEY
GRAPHHOPPER_ENABLED=True

# =============================================================================
# BUSINESS RULES
# =============================================================================
TOPUP_MULTIPLIER=2.0

# =============================================================================
# NOTES
# =============================================================================
# 1. Все значения с CHANGE_ME должны быть заменены на реальные
# 2. Для production обязательно:
#    - Используйте сильные пароли (минимум 32 символа для секретов)
#    - Ограничьте CORS_ORIGINS конкретными доменами
#    - Включите DEBUG=False
#    - Настройте мониторинг
# 3. Для генерации секретных ключей используйте:
#    python -c "import secrets; print(secrets.token_urlsafe(32))"

