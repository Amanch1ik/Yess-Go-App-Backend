# üîí –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ YESS Loyalty

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏

**–ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ production!**

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π:

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY
python -c "import secrets; print(secrets.token_urlsafe(32))"

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT_SECRET_KEY
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **SECRET_KEY**: –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞
- **JWT_SECRET_KEY**: –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞
- **POSTGRES_PASSWORD**: –º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è production:

```bash
# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
SECRET_KEY=<—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–∫–ª—é—á_32+_—Å–∏–º–≤–æ–ª–æ–≤>
JWT_SECRET_KEY=<—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–∫–ª—é—á_32+_—Å–∏–º–≤–æ–ª–æ–≤>

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
POSTGRES_PASSWORD=<—Å–∏–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å_12+_—Å–∏–º–≤–æ–ª–æ–≤>

# CORS (–¥–ª—è production)
CORS_ORIGINS=https://app.yess.kg,https://admin.yess.kg

# –†–µ–∂–∏–º
DEBUG=False
```

#### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–∑–∞–≥–ª—É—à–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã):

```bash
# Twilio SMS (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
SMS_ENABLED=False
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=CHANGE_ME_TWILIO_AUTH_TOKEN

# Firebase Push (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
PUSH_ENABLED=False
FCM_SERVER_KEY=CHANGE_ME_FIREBASE_SERVER_KEY

# SendGrid Email (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
SENDGRID_API_KEY=SG.CHANGE_ME_SENDGRID_API_KEY

# –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏)
OPTIMAL_BANK_MERCHANT_ID=CHANGE_ME_OPTIMAL_MERCHANT_ID
OPTIMAL_BANK_SECRET_KEY=CHANGE_ME_OPTIMAL_SECRET_KEY
# ... –∏ —Ç.–¥.
```

### 3. CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### ‚ùå –ù–ï–ë–ï–ó–û–ü–ê–°–ù–û –¥–ª—è production:
```bash
CORS_ORIGINS=*
```

#### ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û –¥–ª—è production:
```bash
CORS_ORIGINS=https://app.yess.kg,https://admin.yess.kg,https://www.yess.kg
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
cd yess-backend
python scripts/check_config.py
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ CORS
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## üõ°Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### Production Checklist

- [ ] –í—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] CORS –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏
- [ ] DEBUG=False
- [ ] –°–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –ë–î (12+ —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] HTTPS –≤–∫–ª—é—á–µ–Ω
- [ ] Rate limiting –≤–∫–ª—é—á–µ–Ω
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- [ ] –ë—ç–∫–∞–ø—ã –ë–î –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] .env —Ñ–∞–π–ª –ù–ï –≤ Git (.gitignore –ø—Ä–æ–≤–µ—Ä–µ–Ω)

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤

1. **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env` —Ñ–∞–π–ª (–¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`)
2. **Production**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
   - Docker secrets
   - Kubernetes secrets
   - AWS Secrets Manager
   - HashiCorp Vault
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞

### –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

–ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ—Å—Ç–∞–≤–ª—è—Ç—å –∑–∞–≥–ª—É—à–∫–∏:

- **Twilio**: `ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx` (–µ—Å–ª–∏ SMS_ENABLED=False)
- **Firebase**: `CHANGE_ME_FIREBASE_SERVER_KEY` (–µ—Å–ª–∏ PUSH_ENABLED=False)
- **SendGrid**: `SG.CHANGE_ME_SENDGRID_API_KEY` (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è email)
- **–ë–∞–Ω–∫–∏**: `CHANGE_ME_*_MERCHANT_ID` (–µ—Å–ª–∏ –±–∞–Ω–∫ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω)

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ó–∞–≥–ª—É—à–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Ç–∫–ª—é—á–µ–Ω!

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å API

### JWT —Ç–æ–∫–µ–Ω—ã
- Access token: 60 –º–∏–Ω—É—Ç
- Refresh token: 7 –¥–Ω–µ–π
- –ê–ª–≥–æ—Ä–∏—Ç–º: HS256

### Rate Limiting
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `RATE_LIMIT_PER_MINUTE`

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –í—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Pydantic
- SQL injection –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ SQLAlchemy ORM
- XSS –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏—é

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–í–∫–ª—é—á–∏—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è:
- –ù–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –î–æ—Å—Ç—É–ø–∞ –∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º –¥–∞–Ω–Ω—ã–º

## üö® –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —É—Ç–µ—á–∫–∏:
1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–º–µ–Ω–∏—Ç–µ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
3. –£–≤–µ–¥–æ–º–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞—Ö –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: security@yess-loyalty.com

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-11-08
**–í–µ—Ä—Å–∏—è**: 1.0
